{% extends postorius_base_template %}
{% load url from future %}
{% load i18n %}
{% block main %}
{% include 'postorius/menu/user_nav.html' %}
<ul class="nav nav-tabs">
   <li class="active"><a>{% trans "Global Mailman Preferences" %}</a></li>
   <li><a href="{% url 'user_address_preferences' %}">{% trans "Address Based Preferences" %}</a></li>
   <li><a href="{% url 'user_subscription_preferences' %}">{% trans "Subscription Based Preferences" %}</a></li>
</ul>
<br>
<h2> Global Preferences Overview </h2>
<p> Table to view the preferences(for testing only)</p>
<!-- Table displaying the user's global Mailman preferencesc,only for testing/viewing purposes, may be removed-->
<table class="table table-bordered table-striped mm_userData">
   <tbody>
      <tr>
         <th> {% trans 'Preference' %}</th>
         <th> {% trans 'Value' %}</th>
      </tr>
      <tr>
         <td>{% trans 'Delivery Status' %}</td>
         <td>{{ mm_user.preferences.delivery_status }}</td>
      </tr>
      <tr>
         <td>{% trans 'Delivery Mode' %}</td>
         <td>{{ mm_user.preferences.delivery_mode }}</td>
      </tr>
      <tr>
         <td>{% trans 'Receive Own Postings' %}</td>
         <td>{{ mm_user.preferences.receive_own_postings }}</td>
      </tr>
      <tr>
         <td>{% trans 'Acknowledge Posts' %}</td>
         <td>{{ mm_user.preferences.acknowledge_posts }}</td>
      </tr>
      <tr>
         <td>{% trans 'Hide Address' %}</td>
         <td>{{ mm_user.preferences.hide_address }}</td>
      </tr>
      <tr>
         <td>{% trans 'Receive List Copy' %}</td>
         <td>{{ mm_user.preferences.receive_list_copy }}</td>
      </tr>
   </tbody>
</table>
<br>
<h2>Global Preferences Form</h2>
<!-- Form to modify the user's global Mailman preferences -->
<form  class="well" action="{% url 'user_mailmansettings' %}" method="post" >
   {% csrf_token %}
   <table class="table table-bordered table-striped" border="2">
      <thead>
         <tr>
            <th> Preferences </th>
            <th> Global </th>
         </tr>
      </thead >
      <tr>
         <td>
            <p > Mail Delivery: </p>
            </p>
            [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.delivery_status.help_text }}
            </span></span>] </p> 
         </td>
         <td> {{settingsform.delivery_status }} </td>
      </tr>
      <tr>
         <td>
            <p> Select a Mode of Delivery: </p>
            </p>
            [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.delivery_mode.help_text }}
            </span></span>] </p>
         </td>
         <td> {{settingsform.delivery_mode }} </td>
      </tr>
      <tr>
         <td>
            <p > Receive your own posts to the list? </p>
            </p>
            [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.receive_own_postings.help_text }}
            </span></span>] </p>
         </td>
         <td> {{settingsform.receive_own_postings }} </td>
      </tr>
      <tr>
         <td>
            <p > Receive acknowledgement mails? </p>
            </p>
            [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.acknowledge_posts.help_text }}
            </span></span>] </p>
         </td>
         <td> {{settingsform.acknowledge_posts }} </td>
      </tr>
      <tr>
         <td>
            <p>Conceal yourself from the subscriber list? </p>
            </p>
            [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.hide_address.help_text }}
            </span></span>] </p>
         </td>
         <td> {{settingsform.hide_address }} </td>
      </tr>
      <tr>
         <td>
            <p >Avoid duplicate copies of messages?</p>
            </p>                 [<span class="more_info"><a href="#" target="_blank">More info</a><span>{{ settingsform.receive_list_copy.help_text }}
            </span></span>] </p>
         </td>
         <td> {{settingsform.receive_list_copy }} </td>
      </tr>
   </table>
   <center><button class="btn btn-success" type="submit">{% trans "Save" %}</button></center>
</form>
{% endblock main %}
